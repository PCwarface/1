$(function(){function e(a,b){"required"===b.method?a.find(".error-empty").show():"email"===b.method?a.find(".error-incorrect-format").show():"minlength"===b.method?a.find(".error-too-short").show():"maxlength"===b.method&&a.find(".error-too-long").show()}$.validator.methods.email=function(a,b){return this.optional(b)||XRegExp("^[\\pL0-9._%+-]+@[\\pL0-9.-]+\\.(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum|en|ru|ua|pl|de|fr|at|ch|no|se|sk|cz|it|uk|dk)$","i").test(a)};var c=$("#formLogin");
c.validate({rules:{email:{required:!0,email:!0},password:{minlength:6,maxlength:50,required:!0}},showErrors:function(a,b){c.find(".error-message").hide();b.forEach(function(a){e($(a.element.parentElement),a)})},submitHandler:function(a){var b=c.find('input[name\x3d"email"]').val().trim().toLowerCase(),d=c.find('input[name\x3d"password"]').val();$.post("/api/v1/validation/login",{email:encodeURIComponent(b),password:d},function(d){d.valid?(c.find('input[name\x3d"email_encoded"]').val(encodeURIComponent(b)),
a.submit()):c.find(".error-password-mismatch").show()}).fail(function(){c.find(".error-password-mismatch").show()})}});var f=$("#formForgot");f.validate({rules:{email:{required:!0,email:!0}},showErrors:function(a,b){c.find(".error-message").hide();b.forEach(function(a){e($(a.element.parentElement),a)})},submitHandler:function(a){$(".form-forgot-fields").slideUp("fast");$(".form-forgot-message").slideDown("fast");a=$("#forgotEmail").val().trim().toLowerCase();$.post("/mobile/passwordlost.action",{email:encodeURIComponent(a)}).fail(function(a){$(".form-forgot-container .error-message").hide();
$(".form-forgot-container .success-message").show();f.hide()}).done(function(){$(".form-forgot-fields").slideUp("fast");$(".form-forgot-message").show().slideDown("fast")})}});$("#linkForgotPassword").click(function(a){a.preventDefault();$(".form-forgot-container").collapse("show");$(".form-login-container").collapse("hide");$("#btnRegister").hide()});$("#linkSignIn").click(function(a){a.preventDefault();$(".form-login-container").collapse("show");$(".form-forgot-container").collapse("hide");$("#formForgot").show();
$(".form-forgot-container .success-message").hide();$("#btnRegister").show()});history.pushState("",document.title,window.location.pathname)});function submitForgotForm(){$(".form-forgot-fields").slideUp("fast");$(".form-forgot-message").slideDown("fast");$("#forgotEmail").submit()};